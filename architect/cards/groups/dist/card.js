!function(e){var t={};function s(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s(s.s=0)}([function(e,t,s){s(1),e.exports=s(2)},function(e,t,s){"use strict";s.r(t);function n(e,t,s,n,o,r,i,a){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=s,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=l):o&&(l=a?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}var o=n({props:{groupName:{type:String,required:!0},sessionId:{type:Number,required:!0}},data:function(){return{loaded:!1,session:{},showMembers:!1,groupSessionId:0}},mounted:function(){var e=this;window.Architect.request().get("/external/groups/session/".concat(this.sessionId)).then((function(t){e.session=t.data,e.loaded=!0}))},methods:{formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Do MMMM YYYY";return moment(e).format(t)},viewMemberList:function(e,t){0!==t&&(this.groupSessionId=e,this.showMembers=!0)}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loaded?s("div",[s("div",[s("h2",{staticClass:"text-xl font-semibold text-center mb-2"},[e._v("\n            "+e._s(e.groupName)+", "+e._s(e.session.day.day)+", "+e._s(e.session.human_start_time)+" - "+e._s(e.session.human_end_time)+"\n        ")]),e._v(" "),s("table",{staticClass:"w-full"},[e._m(0),e._v(" "),s("tbody",e._l(e.session.group_sessions,(function(t){return s("tr",{staticClass:"border-b-2 border-blue-500",class:"past"===t.type?"bg-red-500":"future"===t.type?"bg-green-500":""},[s("td",{staticClass:"p-2 border-r border-blue-500"},[e._v(e._s(e.formatDate(t.date)))]),e._v(" "),s("td",{staticClass:"p-2 text-right",on:{click:function(s){return e.viewMemberList(t.id,t.members_count)}}},[e._v("\n                    "+e._s(t.members_count)+"/"+e._s(e.session.capacity)+"\n                ")])])})),0)])]),e._v(" "),e.showMembers?s("portal",{attrs:{to:"secondary-modal"}},[s("modal",[s("div",{staticClass:"w-full bg-gray-100 p-2"},[s("div",{staticClass:"absolute top-0 right-0 p-1 leading-none text-xl cursor-pointer",on:{click:function(t){e.showMembers=!1}}},[s("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1),e._v(" "),s("p",[s("a",{attrs:{href:"/admin/api/external/groups/printMembers/"+e.groupSessionId,target:"_blank"}},[e._v("Printer\n                        Friendly List")])]),e._v(" "),s("groups-member-list",{attrs:{"group-session-id":e.groupSessionId}})],1)])],1):e._e()],1):e._e()}),[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",{staticClass:"bg-blue-500 text-white font-semibold border-b-2 border-white"},[t("th",{staticClass:"text-left w-10/12 p-2 border-r border-white"},[this._v("Date")]),this._v(" "),t("th",{staticClass:"text-left p-2"},[this._v("Members")])])])}],!1,null,null,null).exports,r=n({components:{SessionHistory:o},props:{data:Object|Array,labels:Object|Array},data:function(){return{groups:[],viewedSession:null,viewedName:null,showMemberModal:!1,showSessionDetail:!1,sessionId:null}},mounted:function(){var e=this;window.Architect.request().get("/external/groups/list").then((function(t){e.groups=t.data,e.groups.map((function(t){var s={};t.group_sessions.forEach((function(t){Object.keys(s).includes(t.date)||e.$set(s,t.date,[]),s[t.date].push(t)})),t.processedGroups=s.sort((function(e,t){return parseInt(e.session.start_at.split(":")[0])-parseInt(t.session.start_at.split(":")[0])}))}))}))},methods:{formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Do MMMM YYYY";return moment(e).format(t)},viewMemberList:function(e,t){0!==e.members_count&&(this.viewedName=t,this.viewedSession=e,this.showMemberModal=!0)},viewSessionHistory:function(e,t){this.viewedName=t,this.sessionId=e,this.showSessionDetail=!0}}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[s("div",{staticClass:"flex flex-col"},e._l(e.groups,(function(t){return s("div",{staticClass:"bg-blue-100 p-2 rounded my-2"},[s("h3",{staticClass:"text-xl text-gray-900 mb-2 font-semibold"},[e._v(e._s(t.name))]),e._v(" "),e._l(t.processedGroups,(function(n,o){return s("div",[s("h4",{staticClass:"text-gray-700 font-semibold text-lg"},[e._v("\n                        "+e._s(e.formatDate(o))+"\n                    ")]),e._v(" "),s("div",{staticClass:"flex flex-col lg:flex-row lg:justify-between lg:-mx-2 lg:flex-wrap"},e._l(n,(function(n){return s("div",{staticClass:"p-2 lg:w-1/2"},[s("div",{staticClass:"bg-gray-100 rounded p-2 flex justify-between"},[s("div",{staticClass:"flex flex-col mb-2"},[s("strong",{staticClass:"font-semibold"},[e._v("Time")]),e._v("\n                                    "+e._s(n.session.human_start_time)+" - "+e._s(n.session.human_end_time)+"\n                                ")]),e._v(" "),s("div",{staticClass:"flex flex-col mb-2 text-right"},[s("strong",{staticClass:"font-semibold"},[e._v("Members")]),e._v(" "),s("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"View List",expression:"'View List'"}],staticClass:"font-semibold text-blue-500 hover:underline cursor-pointer",on:{click:function(s){return e.viewMemberList(n,t.name)}}},[e._v("\n                                        "+e._s(n.members_count)+"/"+e._s(n.session.capacity)+"\n                                    ")])])])])})),0)])})),e._v(" "),s("h4",{staticClass:"text-gray-700 font-semibold text-lg mt-4"},[e._v("View Session History")]),e._v(" "),s("ul",{staticClass:"my-2"},e._l(t.sessions,(function(n){return s("li",{staticClass:"cursor-pointer hover:underline font-semibold",on:{click:function(s){return e.viewSessionHistory(n.id,t.name)}}},[e._v("\n                        "+e._s(n.day.day)+"'s, "+e._s(n.human_start_time)+"\n                    ")])})),0)],2)})),0)]),e._v(" "),e.showMemberModal?s("portal",{attrs:{to:"modal"}},[s("modal",[s("div",{staticClass:"w-full bg-gray-100 p-2"},[s("div",{staticClass:"absolute top-0 right-0 p-1 leading-none text-xl cursor-pointer",on:{click:function(t){e.showMemberModal=!1}}},[s("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1),e._v(" "),s("p",{staticClass:"font-semibold text-lg"},[e._v("\n                    Member List for "+e._s(e.viewedName)+", "+e._s(e.formatDate(e.viewedSession.date))+" - "+e._s(e.viewedSession.session.human_start_time)+"\n                ")]),e._v(" "),s("p",[s("a",{attrs:{href:"/admin/api/external/groups/printMembers/"+e.viewedSession.id,target:"_blank"}},[e._v("Printer\n                        Friendly List")])]),e._v(" "),s("groups-member-list",{attrs:{"group-session-id":e.viewedSession.id}})],1)])],1):e._e(),e._v(" "),e.showSessionDetail?s("portal",{attrs:{to:"modal"}},[s("modal",[s("div",{staticClass:"w-full bg-gray-100 p-2"},[s("div",{staticClass:"absolute top-0 right-0 p-1 leading-none text-xl cursor-pointer",on:{click:function(t){e.showSessionDetail=!1}}},[s("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1),e._v(" "),s("session-history",{attrs:{"group-name":e.viewedName,"session-id":e.sessionId}})],1)])],1):e._e()],1)}),[],!1,null,null,null).exports,i=n({props:{groupSessionId:{type:Number,required:!0}},data:function(){return{members:[]}},mounted:function(){var e=this;window.Architect.request().get("/external/groups/members/".concat(this.groupSessionId)).then((function(t){e.members=t.data}))}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"my-2 border-t border-blue-200"},[s("li",{staticClass:"p-2 border-b border-blue-200 font-semibold text-blue-700 bg-blue-200"},[e._v("\n        Name | Email Address | Phone Number\n    ")]),e._v(" "),e._l(e.members,(function(t){return s("li",{staticClass:"p-2 border-b border-blue-200"},[s("span",{staticClass:"capitalize"},[e._v(e._s(t.name))]),e._v(" | "+e._s(t.email)+" | "+e._s(t.phone)+"\n    ")])}))],2)}),[],!1,null,null,null).exports;Architect.onBoot((function(e){e.component("groups-card",r),e.component("groups-member-list",i),e.component("group-session-history",o)}))},function(e,t){}]);